!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.xmot=t():e.xmot=t()}(self,(()=>(()=>{var e={126:(e,t)=>{"use strict";var r=function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function n(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function o(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}var a,c="0.0.29-alpha.25",u=function(){function e(){this.id=new Date,this.subs=[],this.id=new Date,this.subs=[]}return e.prototype.defined=function(){e.watch.add(this)},e.prototype.notify=function(){this.subs.forEach((function(e,t){if("function"==typeof e.update)try{e.update.apply(e)}catch(e){console.warn("节点排除逻辑异常：",e)}}))},e.watch=null,e}(),s=function(){function e(e,t){this.name="",this.id=new Date,this.name=e,this.id=new Date,this.callBack=t}return e.prototype.add=function(e){e.subs.push(this)},e.prototype.update=function(){(0,this.callBack)(this.name)},e}(),d=(a=new u,function(e,t){if("historyChange"===e)return function(e,t){var r=new s(e,t);u.watch=r,a.defined(),u.watch=null};if("pushState"===e||"replaceState"===e){var r=t.history[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r.apply(t.history,e),a.notify()}}}),l=["SCRIPT","STYLE","META","HEAD","LINK"],p={SVG:2,IMG:2,BACKGROUND_IMAGE:2,CANVAS:4,OBJECT:4,EMBED:4,VIDEO:4},m=window.innerWidth,f=window.innerHeight,v=100,g=function(e,t){return window.getComputedStyle?window.getComputedStyle(e,null)[t]:e.currentStyle[t]},h=function(e,t){void 0===t&&(t=v);var r=Date.now();return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var c=Date.now();if(t-(c-r)<=0)return r=Date.now(),e.apply(void 0,o([],i(n),!1))}},y=function(){function e(e,t){this.win=window,this.isFirstLoad=!0,this.perfConfig={},this.keyDomObserver=null,this.performanceData={},this.perfCallback=null,this.statusCollector=[],this.fmpFlag=!0,this.observer=null,this.callbackCount=0,this.entries={},this.startTime=performance.now(),this.firstInputTime=0,this.referer=[],this.requestList=[],this.sampleFlag=!1,e&&(this.perfConfig=e),t&&(this.perfCallback=t),e.contentWindow&&(this.win=e.contentWindow,this.startTime=this.win.performance.now())}return e.prototype.performanceTrack=function(e){var t;void 0===e&&(e=!1);var r=this.performanceData,n=r.selector,i=r.domLoad,o=r.isTracked,a=r.pageLoad,c=void 0===a?0:a,u=(this.perfConfig||{}).manualTrack;if(!o&&(e||c&&(!n||n&&i))){var s=this.formatPerfData(e);null===(t=this.perfCallback)||void 0===t||t.call(this,s,this.statusCollector),!u&&this.trackData(s)}},e.prototype.trackData=function(e){var t,n,a=this,c=e||{},u=c.traceId,s=c.system,d=c.group,l=c.uploadType,p=e||{},m=p.request,f=void 0===m?{}:m,v=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(p,["request"]),g={system:s,group:d,traceId:u};4!==l&&(this.performanceData.isTracked=!0),this.track("performance.track","performance",v),null===(t=Object.keys(f))||void 0===t||t.forEach((function(e){a.track("performance.track","performance_request",r(r(r({},g),{requestUrl:e}),f[e]))}));var h=null===(n=this.statusCollector)||void 0===n?void 0:n.map((function(e){return{time:e.time,mutation:e.mutation}}));(null==h?void 0:h.length)&&this.track("performance.track","performance_detail",r(r({},g),{statusList:h,refererList:o([],i(this.referer),!1)}))},e.prototype.trackView=function(){var e=this.perfConfig,t=e.userId,r=void 0===t?"":t,n=e.system,i=void 0===n?"":n,o=e.group,a=void 0===o?"":o,u=e.env,s=void 0===u?"":u,d=this.getPathName();this.track("performance.track","view",{userId:r,system:i,group:a,env:s,pageUrl:d,version:c})},e.prototype.resetPerformanceTrack=function(e){var t,r;this.sampleFlag||(this.performanceData.isTracked||this.performanceTrack(!0),this.win.performance.clearResourceTimings(),this.performanceData={},this.startTime=this.win.performance.now(),this.firstInputTime=0,this.isFirstLoad=e,null===(t=this.observer)||void 0===t||t.disconnect(),null===(r=this.keyDomObserver)||void 0===r||r.disconnect(),this.statusCollector=[],this.requestList=[],this.fmpFlag=!0,this.observer=null,this.callbackCount=0,this.entries={},this.domLoadObserver(),this.initObserver())},e.prototype.initTrack=function(){var e=this,t=this.perfConfig.tracesSampleRate,r=void 0===t?1:t;if(Math.random()>Number(r))this.sampleFlag=!0;else{this.initOneTrack(),this.initObserver(),this.domLoadObserver(),this.rewriteXHR(),this.recordFetch();var n=function(){e.resetPerformanceTrack(!1)};this.win.addHistoryListener=d("historyChange",this.win),this.win.history.pushState=d("pushState",this.win),"hash"===this.perfConfig.historyMethod&&this.win.addEventListener("hashchange",h(n,300)),this.win.addHistoryListener("history",h(n,300)),this.win.addEventListener("click",(function(){e.firstInputTime>v||(e.firstInputTime=e.getPerfTime())}),!0)}},e.prototype.initOneTrack=function(e){var t=this;void 0===e&&(e=3);var r=this.perfConfig.appId,n=void 0===r?"31000401679":r;n&&this.track()?this.track("performance.init",n):e>0&&this.win.setTimeout((function(){t.initOneTrack(e-1)}),1e3)},e.prototype.track=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.win.onetrack;return r&&e.length&&r.apply(void 0,o([],i(e),!1)),r},e.prototype.getPerfTime=function(e){return void 0===e&&(e=this.win.performance.now()),this.isFirstLoad?e:e-this.startTime},e.prototype.getObserverContainer=function(){return this.perfConfig.container&&this.win.document.querySelector(this.perfConfig.container)||this.win.document.body},e.prototype.getSelector=function(){var e;if(this.perfConfig.domObserver){var t=this.getPathName(),r=this.perfConfig.domObserver[t];if(!r){var n=null!==(e=Object.keys(this.perfConfig.domObserver).find((function(e){return!!e&&new RegExp(e).test(t)})))&&void 0!==e?e:"";r=this.perfConfig.domObserver[n]}return r}},e.prototype.domLoadObserver=function(){var e=this,t=this.getSelector();t&&(this.performanceData.selector=t,this.keyDomObserver=new this.win.MutationObserver((function(r){var i,o,a;try{for(var c=n(r),u=c.next();!u.done;u=c.next())if(u.value.addedNodes.length&&e.win.document.querySelector(t)){var s=e.getPerfTime();s>v&&(null===(a=e.keyDomObserver)||void 0===a||a.disconnect(),e.performanceData.domLoad=s,e.performanceTrack());break}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}})),this.keyDomObserver.observe(this.getObserverContainer(),{childList:!0,subtree:!0}))},e.prototype.isExcludeReq=function(e){var t;return void 0===e&&(e=""),null===(t=this.perfConfig.excludeRequests)||void 0===t?void 0:t.some((function(t){return"[object RegExp]"===Object.prototype.toString.call(t)?new RegExp(t).test(e):e.includes(String(t))}))},e.prototype.getHttpTime=function(){var e,t,r,i,o,a,c=this,u=this.win.performance.getEntries(),s=this.perfConfig.withResourceType,d=["xmlhttprequest","fetch"].concat(void 0===s?[]:s),l=u.filter((function(e){return d.includes(e.initiatorType)&&e.startTime>=c.startTime})),p={};try{for(var m=n(l),f=m.next();!f.done;f=m.next()){var v=f.value,g=v.name,h=v.startTime,y=v.responseEnd,_=v.duration,w=h-this.startTime,b=y-this.startTime;this.isExcludeReq(g)||(p[g]||(p[g]={}),p[g].requestStartTime=w,p[g].requestEndTime=b,p[g].requestDuration=_,r||i?(r=Math.min(r,w),i=Math.max(i,b)):(r=w,i=b,o=_,a=g),_>o&&(o=_,a=g))}}catch(n){e={error:n}}finally{try{f&&!f.done&&(t=m.return)&&t.call(m)}finally{if(e)throw e.error}}return{request:p,min:r,max:i,maxDuration:o,maxReqUrl:a}},e.prototype.simpleNode=function(e){if(!e)return"";var t=e,r=t.localName,n=t.id,i=void 0===n?"":n,o=t.className,a=void 0===o?"":o,c="string"==typeof a?null==a?void 0:a.split(" ").join("."):"";return"".concat(r).concat(i?"#"+i:"").concat(c?"."+c:"")},e.prototype.getSnapShot=function(e){var t=this;void 0===e&&(e=[]);var r=this.getPerfTime(),n=this.perfConfig.container&&this.win.document.querySelector(this.perfConfig.container)||this.win.document.body,i=this.perfConfig.excludeNodes,o=void 0===i?[]:i,a=e.length,c=!1;try{if(o.length&&a){var u=a?e[a-1]:null,s=this.simpleNode(null==u?void 0:u.target);c=(c=1===a&&o.includes(s))||e.every((function(e){return o.some((function(r){var n;return null===(n=Array.from(t.win.document.querySelectorAll(r)))||void 0===n?void 0:n.some((function(r){var n,i;return r.querySelector(t.simpleNode(e.target))||(null===(n=Array.from(e.addedNodes))||void 0===n?void 0:n.every((function(e){return r.contains(e)})))&&(null===(i=Array.from(e.removedNodes))||void 0===i?void 0:i.every((function(e){return r.contains(e)})))}))}))}))}}catch(e){console.warn(e,"error")}c||this.statusCollector.push({time:r,now:this.win.performance.now(),mutation:e.map((function(e){var r,n;return{target:t.simpleNode(null==e?void 0:e.target),addedNodes:t.simpleNode(null===(r=null==e?void 0:e.addedNodes)||void 0===r?void 0:r[0]),removeNodes:t.simpleNode(null===(n=null==e?void 0:e.removedNodes)||void 0===n?void 0:n[0])}}))}),!n||this.perfConfig.withoutFMP||c||this.setTag(n,this.callbackCount),c||(this.callbackCount+=1)},e.prototype.initObserver=function(){var e=this;this.trackView(),this.getSnapShot(),this.referer.push(this.getPathName()),this.observer=new this.win.MutationObserver((function(t){e.getSnapShot(t)})),this.observer.observe(this.getObserverContainer(),{childList:!0,subtree:!0}),"complete"===this.win.document.readyState?this.calculateFinalScore():this.win.addEventListener("load",(function(){e.calculateFinalScore()}),!1)},e.prototype.calculateFinalScore=function(){var e,t=this;if(this.fmpFlag)if(this.checkNeedCancel()){null===(e=this.observer)||void 0===e||e.disconnect(),this.fmpFlag=!1,this.win.performance.getEntries().forEach((function(e){t.entries[e.name]=t.getPerfTime(e.responseEnd)}));var r=this.perfConfig,n=r.withoutFMP,i=r.fmpOptions;if(!n){var o=this.getTreeScore(this.win.document.body),a=null;if(o.dpss.forEach((function(e){a&&a.st?a.st<e.st&&(a=e):a=e})),a){var c;c="function"==typeof(null==i?void 0:i.fmpFilter)?i.fmpFilter(a.els):this.filterResult(a.els),this.performanceData.fmp=this.getFmpTime(c)}}this.performanceTrack()}else this.win.setTimeout((function(){t.calculateFinalScore()}),500)},e.prototype.getFmpTime=function(e){var t,r,i,o,a=0,c=[],u=Object.keys(this.entries);try{for(var s=n(e),d=s.next();!d.done;d=s.next()){var l=d.value,m=this.perfConfig.fmpOptions,f=(null==m?void 0:m.eleWeight)||p,v=0,g=parseInt(l.$node.getAttribute("fmp-c")||""),h="".concat(g,"-").concat(this.simpleNode(l.$node)),y=l.$node.tagName,_="IMG"===y,w="VIDEO"===y,b=l.weight===f.BACKGROUND_IMAGE&&!_&&!w,S=!1;if(1===l.weight||["SVG","CANVAS"].includes(l.$node.tagName))v=null===(i=this.statusCollector[g])||void 0===i?void 0:i.time,S=0===g;else if(_||w||b){var I=this.getMediaUrl(l.$node,u,b);v=this.entries[I]||this.entries[null===(o=l.$node)||void 0===o?void 0:o.poster],h=I||h}"number"!=typeof v&&(v=0),a<v&&(a=v),c=this.getFMPTopList(S?1:v,c,h)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return this.performanceData.fmpSlowComp=c,a},e.prototype.getFMPTopList=function(e,t,r){var n={time:e,domTag:r};if(!t.length)return[n];var a=-1,c=t.length<3;return t.some((function(t,r){return e>t.time&&(a=r,!0)})),c&&a<0?t[t.length]=n:a>-1&&(t.length=c?t.length:t.length-1,t.splice(a,0,n)),o([],i(t),!1)},e.prototype.getMediaUrl=function(e,t,r){var n="";if(r){var i=(g(e,"background-image")||"").match(/url\('(.*?)'\)/);(null==i?void 0:i[1])&&(n=i[1]),-1===n.indexOf("http")&&(n=this.win.location.protocol+n),n=n.replace(/!.*/,"").replace(/\?.*/,"")}else n=((null==e?void 0:e.src)||"").replace(/!.*/,"").replace(/\?.*/,"");return t.find((function(e){return n&&"".concat(e).indexOf(n)>-1}))||""},e.prototype.filterResult=function(e){if(1===e.length)return e;var t=0;e.forEach((function(e){t+=e.st}));var r=t/e.length;return e.filter((function(e){return e.st>r}))},e.prototype.checkNeedCancel=function(){var e,t,r=this.getPerfTime(),n=this.statusCollector.length>0?null===(e=this.statusCollector[this.statusCollector.length-1])||void 0===e?void 0:e.time:0,i=this.perfConfig.maxWait||15e3,o=this.perfConfig.domWait||2e3,a=!(null===(t=this.requestList)||void 0===t?void 0:t.length),c=r>i||a&&r-n>o;return this.performanceData.pageLoadBak=n,c&&(this.performanceData.pageLoad=n),c},e.prototype.getTreeScore=function(e){if(e){for(var t=[],r=e.children,n=0;n<r.length;n++){var i=r[n];if(i.getAttribute("fmp-c")){var o=this.getTreeScore(i);o.st&&t.push(o)}}return this.calculateScore(e,t)}return{}},e.prototype.calculateScore=function(e,t){var r,n,i=e.getBoundingClientRect(),o=i.width,a=i.height,c=i.left,u=i.top,s=!0;(((null===(n=null===(r=this.perfConfig)||void 0===r?void 0:r.fmpOptions)||void 0===n?void 0:n.screenHeight)||f)<u||m<c)&&(s=!1);var d=0;t.forEach((function(e){d+=e.st}));var l=this.perfConfig.fmpOptions,v=(null==l?void 0:l.eleWeight)||p,h=v[e.tagName]||1;1===h&&g(e,"background-image")&&g(e,"background-image").includes("url")&&(h=v.BACKGROUND_IMAGE);var y=s?o*a*h:0,_=[{$node:e,st:y,weight:h}],w=e,b=this.calculateAreaParent(e);return(d>y*b||0===b)&&(y=d,_=[],t.forEach((function(e){_=_.concat(e.els)}))),{dpss:t,st:y,els:_,root:w}},e.prototype.calculateAreaParent=function(e){var t,r,n=e.getBoundingClientRect(),i=n.left,o=n.right,a=n.top,c=n.bottom,u=n.width,s=n.height,d=m,l=(null===(r=null===(t=this.perfConfig)||void 0===t?void 0:t.fmpOptions)||void 0===r?void 0:r.screenHeight)||f,p=o-i+(d-0)-(Math.max(o,d)-Math.min(i,0)),v=c-a+(l-0)-(Math.max(c,l)-Math.min(a,0));return p<=0||v<=0?0:p*v/(u*s)},e.prototype.setTag=function(e,t){var r,n,i,o=e.tagName,a=null==e?void 0:e.children;if(-1===l.indexOf(o)&&(null==a?void 0:a.length)){var c=this.perfConfig.container&&this.win.document.querySelector(this.perfConfig.container);if(c){var u=c.className,s=c.id;e.className!==u&&e.id!==s||null!==e.getAttribute("fmp-c")||e.setAttribute("fmp-c","".concat(String(t)))}for(var d=a.length-1;d>=0;d--){var p=a[d];if(null===p.getAttribute("fmp-c")){var v=p.getBoundingClientRect(),g=v.left,h=v.top,y=v.width,_=v.height,w=null===(r=this.win.getComputedStyle(p))||void 0===r?void 0:r.opacity;if(((null===(i=null===(n=this.perfConfig)||void 0===n?void 0:n.fmpOptions)||void 0===i?void 0:i.screenHeight)||f)<h||m<g||0===y||0===_||"0"===w)continue;p.setAttribute("fmp-c","".concat(t))}this.setTag(p,t)}}},e.prototype.getPathName=function(){return this.win.location.pathname+this.win.location.hash+(this.perfConfig.distinctSearch?this.win.location.search:"")},e.prototype.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e.prototype.getOpType=function(e){var t=this.requestList.length,r=0;return e?r=4:this.firstInputTime>v&&t?r=3:t?r=2:this.firstInputTime>v&&(r=1),r},e.prototype.formatPerfData=function(e){var t,n=this.performanceData,i=n.pageLoad,o=void 0===i?0:i,a=n.domLoad,u=void 0===a?0:a,s=n.pageLoadBak,d=void 0===s?0:s,l=n.fmpSlowComp,p=this.perfConfig,m=p.username,f=void 0===m?"":m,v=p.userId,g=void 0===v?"":v,h=p.system,y=void 0===h?"":h,_=p.group,w=void 0===_?"":_,b=p.tip,S=void 0===b?"1280.0.0.0.29371":b,I=p.env,O=void 0===I?"":I,T=this.getHttpTime(),E=T.request,C=T.min,N=T.max,A=T.maxDuration,x=T.maxReqUrl,k=this.getOpType(e),P=e?(null===(t=this.referer.slice(-1))||void 0===t?void 0:t[0])||"":this.getPathName(),R={tip:S,username:f,userId:g,system:y,group:w,env:O,version:c,uploadType:k,pageUrl:P},L=this.win.navigator,D=L.hardwareConcurrency,M=L.platform,j=L.connection,U=void 0===j?{}:j,q={plat:M,network:"type:".concat(U.effectiveType,"/downlink:").concat(U.downlink,"/rtt:").concat(U.rtt),hardware:D},V=e&&d>500&&!o?Math.round(d):Math.round(o);return r(r(r({},R),q),{pageLoad:V,domLoad:Math.round(u),FMP:Math.ceil(this.performanceData.fmp||0),timeOrigin:String(this.win.performance.timeOrigin+this.startTime),title:this.win.document.title,request:E,requestStartTime:Math.round(C)||0,requestEndTime:Math.round(N)||0,requestDuration:Math.round(N-C)||0,maxRequestDuration:Math.round(A)||0,maxRequestUrl:x||"",loadType:this.isFirstLoad?"reload":"navigate",traceId:this.guid(),fmpSlowComp:l})},e.prototype.rewriteXHR=function(){var e=this,t=this.win.XMLHttpRequest,r=t.prototype.open;t.prototype.open=function(t,n){return e.isExcludeReq(n)||e.requestList.push(n),r.apply(this,arguments)};var n=t.prototype.send;t.prototype.send=function(){var t=this,r=function(){e.getReqEndTime(t.responseURL||t.__zone_symbol__xhrURL)};return this.addEventListener("loadend",r,!1),this.addEventListener("timeout",r,!1),n.apply(this,arguments)}},e.prototype.recordFetch=function(){var e=this,t=this.win.fetch;this.win.fetch=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r[0],o={};o="Request"in Window&&i instanceof Window.Request?i:r[1]||o;var a="string"==typeof i?i:o.url;return e.isExcludeReq(a)||e.requestList.push(a),t.apply(this,r).then((function(t){return e.getReqEndTime(t.url),t}))}},e.prototype.sameReq=function(e,t){return e===t||(null==t?void 0:t.includes(e))},e.prototype.getReqEndTime=function(e){var t,r=this,n=null!==(t=this.requestList.findIndex((function(t){return r.sameReq(t,e)})))&&void 0!==t?t:-1,i=this.requestList[n];i&&this.sameReq(i,e)&&this.requestList.splice(n,1)},e.prototype.destory=function(){var e,t;for(var r in null===(e=this.observer)||void 0===e||e.disconnect(),null===(t=this.keyDomObserver)||void 0===t||t.disconnect(),this)delete this[r]},e}();t.R=y},682:(e,t,r)=>{var n,i;!function(o){if(void 0===(i="function"==typeof(n=o)?n.call(t,r,t,e):n)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,c=window.Cookies=o();c.noConflict=function(){return window.Cookies=a,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function o(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(s){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var u in o)o[u]&&(c+="; "+u,!0!==o[u]&&(c+="="+o[u].split(";")[0]));return document.cookie=t+"="+r+c}}function a(e,r){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var c=o[a].split("="),u=c.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=t(c[0]);if(u=(n.read||n)(u,s)||t(u),r)try{u=JSON.parse(u)}catch(d){}if(i[s]=u,e===s)break}catch(d){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,r){o(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}((function(){}))}))}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};return(()=>{"use strict";r.d(n,{default:()=>ur});var e=r(682),t=r(126),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(c){i={error:c}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o={in:[108,121,124,124],id:[109,126,128,128],de:[710,711,592,592],nl:[579,580,591,591],es:[138,139,605,605],fr:[571,572,573,573],it:[524,525,589,589],uk:[577,578,590,590],ru:[132,575,587,587],hk:[103,129,604,604],tw:[104,120,127,127],default:[0,0,0,0]},a={default:{APP_ID:"2882303761517399893",PRO_ID:"16"},pocoDefault:{APP_ID:"31000000334",PRO_ID:"16"}},c={fr:"high",nl:"high",es:"high",de:"high",it:"high",uk:"high",tr:"high",pl:"high",se:"high",global:"high",gr:"high",pe:"high",at:"high",hu:"high"},u={in:!0,default:!0};function s(e){var t=i(o[e]||o.default,4);return{pc:t[0],m:t[1],app:t[2],ios:t[3]}}function d(e){return a[e]||(document.domain.includes("po.co")?a.pocoDefault:a.default)}var l={ae:{currencyCode:"AED"},au:{currencyCode:"AUD"},bd:{currencyCode:"BDT"},be:{currencyCode:"EUR"},br:{currencyCode:"BRL"},ca:{currencyCode:"CAD"},cl:{currencyCode:"CLP"},cn:{currencyCode:"CNY"},co:{currencyCode:"COP"},cz:{currencyCode:"CZK"},de:{currencyCode:"EUR"},dk:{currencyCode:"DKK"},eg:{currencyCode:"EGP"},es:{currencyCode:"EUR"},fr:{currencyCode:"EUR"},gcc:{currencyCode:"AED"},global:{currencyCode:"USD"},gr:{currencyCode:"GRD"},hk:{currencyCode:"HKD"},hu:{currencyCode:"HUF"},id:{currencyCode:"IDR"},ie:{currencyCode:"EUR"},il:{currencyCode:"ILS"},ir:{currencyCode:"IRR"},in:{currencyCode:"INR"},it:{currencyCode:"EUR"},jp:{currencyCode:"JPY"},kr:{currencyCode:"KRW"},la:{currencyCode:"LAK"},lk:{currencyCode:"LKR"},lu:{currencyCode:"EUR"},ma:{currencyCode:"MAD"},mm:{currencyCode:"MMK"},mo:{currencyCode:"MOP"},mx:{currencyCode:"MXN"},my:{currencyCode:"MYR"},ng:{currencyCode:"NGN"},nl:{currencyCode:"EUR"},np:{currencyCode:"NPR"},nz:{currencyCode:"NZD"},ph:{currencyCode:"PHP"},pk:{currencyCode:"PKR"},pl:{currencyCode:"PLN"},pt:{currencyCode:"EUR"},ro:{currencyCode:"RON"},ru:{currencyCode:"RUB"},sa:{currencyCode:"SAR"},se:{currencyCode:"SEK"},sg:{currencyCode:"SGD"},th:{currencyCode:"THB"},tr:{currencyCode:"TRY"},tw:{currencyCode:"TWD"},ua:{currencyCode:"UAH"},uk:{currencyCode:"GBP"},us:{currencyCode:"USD"},vn:{currencyCode:"VND"},za:{currencyCode:"ZAR"}};function p(e){return Object.assign({currencyCode:"USD"},l[e]||{})}function m(e){return u[e]||u.default}var f=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(se){o(se)}}function c(e){try{u(n.throw(e))}catch(se){o(se)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}u((n=n.apply(e,t||[])).next())}))},v=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(se){c=[6,se],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},g=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(c){i={error:c}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},h=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_=["guserid","instance_id","muserid","site_country","tz","app_platform","ot_ua","last_source","utm_channel","utm_content","utm_term","utm_type","abtest_group","abtest_group1","abtest_group2"];function w(){return e.get("mstuid")||""}function b(t){var r="1"===e.get("_ot_use_type"),n=ie();return!r&&w()?n=w():e.get("_ot_instance_id")?n=e.get("_ot_instance_id")||n:e.set("_ot_instance_id",n,D(t,{expires:new Date(Date.now()+34128e6)})),n}function S(e,t){if(e instanceof Object){var r=document.querySelector("html"),n=document.querySelector("body"),i="";if(t)try{var o=t.closest("[data-ot-module]");i=!!o&&o.getAttribute("data-ot-module")||""}catch(se){}var a=[e.a||!!r&&r.getAttribute("data-ot-project")||d("default").PRO_ID,e.b||!!n&&n.getAttribute("data-ot-page")||0,e.c||i||0,e.d||0,e.e||0,Math.floor(Math.random()*Math.pow(10,8))];return O(a)?a.join("."):""}var c=(e||"").split(".");return O(c)?h(h([],g(c.slice(0,5)),!1),[Math.floor(Math.random()*Math.pow(10,8))],!1).join("."):""}function I(e){var t,r=e.split(".");if(O(r)){var n="",i="",o=g(r,5),a=o[1],c=o[2],u=o[3],s=o[4],d=c.split("|");return d.length>0&&(n=(t=g(d,2))[0],i=t[1]),{tipB:a,tipC:n,tipC1:i||"",tipD:u,tipE:s}}return{tipB:"",tipC:"",tipC1:"",tipD:"",tipE:""}}function O(e){var t=!0;return e.length<5&&(t=!1),e.slice(0,2).some((function(e){return 0===Number(e||0)}))&&(t=!1),window.__CURRENT_PAGE_URL__===window.location.href&&(t=!1),$()&&!t&&console.warn("The tip code [".concat(e.join("."),"] is invalid!")),!!t}function T(t){var r=C(),n=t.split("."),i=g(n,5),o=i[0],a=i[1],c=i[2],u=i[3],s=i[4];r&&e.set("_ot_ref_tip",n.length>5?"".concat(o,".").concat(a,".").concat(c,".").concat(u,".").concat(s):"",D(r))}function E(){return e.get("_ot_ref_tip")||""}function C(){var e=document.querySelector("html");return e&&e.getAttribute("data-ot-local")||(window.location.pathname||"/").split("/")[1]||""}function N(){var t=document.querySelector("html"),r=t&&t.getAttribute("data-ot-platform"),n=U(),i=n.isOtherApp,o=n.isMihomeApp,a=n.isMicommunityApp;return i?o?"mihome":a?"micommunity":"others":"1"===e.get("ISAPP")?"android":"1"===e.get("ISIOS")?"ios":r||"m"}function A(){return!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0}function x(t){!function(t){var r=Number(e.get("_ot_last_time")||0);r&&Date.now()-r>18e5&&e.set("_ot_update_flag","true",D(t));!function(t){e.set("_ot_last_time",String(Date.now()),D(t))}(t)}(t);var r=document.referrer||"",n=([D(t).domain,".xiaomi.com",".xiaomi.net"].some((function(e){return!!~r.indexOf(e)}))?e.get("_ot_last_source"):r)||"",i="true"===e.get("_ot_update_flag")?"":n;return e.set("_ot_last_source",i||"",D(t,{expires:new Date(Date.now()+18e5)})),i}function k(t){var r=document.location.href||"",n=document.referrer||"",i=e.get("_ot_prev_uri_path")||"";e.set("_ot_referrer_path",n||"",D(t)),e.set("_ot_prev_uri_path",i!==n?n:i||"",D(t)),e.set("_ot_curr_uri_path",r,D(t))}function P(t){var r=document.location.href||"",n=document.referrer||"",i=e.get("_ot_referrer_path")||"",o=e.get("_ot_curr_uri_path")||"";return r!==o&&(e.set("_ot_prev_uri_path",o,D(t)),e.set("_ot_curr_uri_path",r,D(t))),n===i&&n?e.get("_ot_prev_uri_path")||"":(e.set("_ot_prev_uri_path",n,D(t)),n||"")}function R(t,r,n){var i=n||e.get("_ot_".concat(r))||"",o="true"===e.get("_ot_update_flag")?"":i;return e.set("_ot_".concat(r),o,D(t,{expires:new Date(Date.now()+18e5)})),o}function L(t,r,n){return(r instanceof Array?r:[r]).forEach((function(r){return e.remove(r,D(t,n))}))}function D(e,t){return Object.assign({sameSite:"strict",path:"/"+e,domain:".".concat((window.location.hostname||"").split(".").slice("id"===e?-3:-2).join("."))},t||{})}function M(t){var r=e.get("_ot_session_id")||String(Date.now());return e.set("_ot_session_id",r,D(t,{expires:new Date(Date.now()+18e5)})),r}function j(e){return"string"!=typeof e?void 0:e.replace(/^javascript:void\(0\)(;)?/g,"").replace(/^(http(s?):)?\/\//i,"".concat(window.location.protocol,"//"))}function U(){var t="1"===e.get("ISAPP")||"1"===e.get("ISIOS"),r=!!~["community_sdk","mihome_sdk"].indexOf(e.get("request_from")||""),n=!!~["mihome_sdk"].indexOf(e.get("request_from")||""),i=!!~["community_sdk"].indexOf(e.get("request_from")||""),o=t&&!r&&Number(e.get("APPVERSION"))<31500,a=t&&!r&&Number(e.get("IOSVERSION"))<31e3,c=t&&!r&&Number(e.get("APPVERSION"))<=40200,u=t&&!r&&Number(e.get("IOSVERSION"))<=40100,s=t&&!r&&Number(e.get("APPVERSION"))>=1e5;return{isInsideApp:t,isOldAPP:o,isOldIOS:a,isOtherApp:t&&r,isUseMiCommand:t&&!r&&(Number(e.get("APPVERSION"))>=31800||Number(e.get("IOSVERSION"))>=31300),isGAOldApp:c,isGAOldIOS:u,isPocoApp:s,isMihomeApp:n,isMicommunityApp:i}}function q(t,r){try{var n=JSON.stringify({eventType:t,params:r}),i="xiaomi://MiEventTrackCommand?action=logGA&params="+encodeURIComponent(n);"1"===e.get("ISIOS")?Number(e.get("IOSVERSION"))>=40503?window.webkit.messageHandlers.trackAction.postMessage({url:i}):window.location.assign(i):"1"===e.get("ISAPP")&&prompt(i)}catch(o){console.warn("GA4: An error occurred in app!")}}function V(e){var t=Object.assign({},e);for(var r in t)if(void 0===t[r])delete t[r];else if(Array.isArray(t[r]))for(var n=0;n<t[r].length;n++)t[r][n]=V(t[r][n]);else"object"==typeof t[r]&&(t[r]=V(t[r]));return t}function B(t,r){var n,i,o;t=function(e){var t=Object.assign({},e);for(var r in t)if(Array.isArray(t[r]))for(var n=0;n<t[r].length;n++)t[r][n]=V(t[r][n]);else"object"==typeof t[r]?t[r]=V(t[r]):"string"==typeof t[r]&&(_.includes(r)?t[r]=t[r].substr(0,36):t[r]=t[r].substr(0,100));return t}(t);var a=U(),c=a.isInsideApp,u=a.isGAOldApp,s=a.isGAOldIOS,d=a.isOtherApp,l=a.isPocoApp,p=c&&!u&&!s&&!d&&!l;if(!function(t){var r="1"===e.get("ISAPP"),n="1"===e.get("ISIOS"),i={de:r&&Number(e.get("APPVERSION"))<40403||n&&Number(e.get("IOSVERSION"))<40400,es:r&&Number(e.get("APPVERSION"))<40300||n&&Number(e.get("IOSVERSION"))<40400,fr:r&&Number(e.get("APPVERSION"))<40300||n&&Number(e.get("IOSVERSION"))<40400,id:r&&Number(e.get("APPVERSION"))<40700||n&&Number(e.get("IOSVERSION"))<40800,in:r&&Number(e.get("APPVERSION"))<40600||n&&Number(e.get("IOSVERSION"))<40700,it:r&&Number(e.get("APPVERSION"))<40300||n&&Number(e.get("IOSVERSION"))<40400,jp:r&&Number(e.get("APPVERSION"))<40400||n&&Number(e.get("IOSVERSION"))<40500,mx:r&&Number(e.get("APPVERSION"))<40800||n&&Number(e.get("IOSVERSION"))<40900,nl:r&&Number(e.get("APPVERSION"))<40400||n&&Number(e.get("IOSVERSION"))<40500,pl:r&&Number(e.get("APPVERSION"))<40500||n&&Number(e.get("IOSVERSION"))<40600,ru:r&&Number(e.get("APPVERSION"))<40400||n&&Number(e.get("IOSVERSION"))<40500,tr:r&&Number(e.get("APPVERSION"))<40400||n&&Number(e.get("IOSVERSION"))<40500,uk:r&&Number(e.get("APPVERSION"))<40400||n&&Number(e.get("IOSVERSION"))<40500,default:!1};return i[t]||i.default}(C()))if(p){var m=Object.assign({},t);delete m.event;try{var f=r?m.ecommerce:m;f.page_location=window.location.href.replace("/app/","/").replace("/ios/","/").substring(0,100),f.page_referrer=null===(n=f.page_referrer)||void 0===n?void 0:n.replace("/app/","/").replace("/ios/","/").substring(0,100),"page_view"===t.event?(q("screen_view",JSON.stringify({screen_name:f.page_type})),setTimeout((function(){q(t.event,JSON.stringify(V(f)))}),800)):q(t.event,JSON.stringify(V(f)))}catch(v){console.warn("GA4: An error occurred in app!")}}else try{r&&(null===(i=window.dataLayer)||void 0===i||i.push({ecommerce:null})),null===(o=window.dataLayer)||void 0===o||o.push(t)}catch(v){console.warn("GA4: An error occurred in web!")}}function G(){var t,r,n=(t=C(),(r={in:!0,default:!1})[t]||r.default),i="1"===e.get("ISAPP")&&Number(e.get("APPVERSION"))>40901||"1"===e.get("ISIOS")&&Number(e.get("IOSVERSION"))>40900;return U().isInsideApp?n&&i:n}function F(t,r){if(!G()&&r.tip&&ee()){var n=U(),i=n.isInsideApp,o=n.isOldAPP,a=n.isOldIOS,c=n.isOtherApp;if(i&&!o&&!a&&!c){var u=r.tip.split("."),s={b:u[1],c:u[2],d:u[3],e:u[4],location:window.location.href||"",page:te(),title:window.document.title||"",page_version:Z()};Object.keys(r).forEach((function(e){"tip"!==e&&(s[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=r[e])}));try{!function(t,r){if(U().isUseMiCommand&&"1"===e.get("ISIOS")){var n=JSON.stringify({eventType:t,params:r}),i="xiaomi://MiEventTrackCommand?action=track&params="+encodeURIComponent(n);Number(e.get("IOSVERSION"))>=40503?window.webkit.messageHandlers.trackAction.postMessage({url:i}):window.location.assign(i)}else window.WE&&window.WE.trackEvent&&"function"==typeof window.WE.trackEvent&&window.WE.trackEvent(t,r)}(t,JSON.stringify(z(s)))}catch(d){console.warn("OneTrack: An error occurred in app!")}}else try{"function"==typeof window.onetrack&&window.onetrack("track",t,z(r))}catch(d){console.warn("OneTrack: An error occurred in web!")}}}function W(e){return Y({utm_type:"mi_type",utm_channel:"mi_channel",utm_campaign:"utm_campaign",utm_source:"mi_source",utm_medium:"mi_medium",utm_term:"mi_term",utm_content:"mi_content"}[e])||Y(e)||""}function H(e,t){var r=Object.assign({},e);return t&&"object"==typeof t&&Object.keys(t).forEach((function(e){r[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=J(t[e],"")})),r}function J(e,t){return void 0===e?null:void 0!==t?e||t:e}function K(e,t){return void 0===e?t||void 0:void 0!==t?"".concat(e)?e:e||t||void 0:e}function z(e){var t=Object.assign({},e);return Object.keys(t).forEach((function(e){~[null,void 0].indexOf(t[e])&&delete t[e]})),t}function $(){var e=document.querySelector("html"),t=e&&e.getAttribute("data-ot-test");return(document.domain.includes("test")||document.domain.includes("dev"))&&"true"===t}function Z(){var e="";try{e="".concat(process.env.VERSION)}catch(se){}return e||"1.0.0"}function X(){var e="temp";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}function Y(e,t){var r=t||window.location.search||(window.location.hash||"").replace(/.+\?/g,"?").replace(/#.+/g,"");if(!r)return"";var n=r.slice(1).split("&").map((function(e){return e.split("=")}));return(g(n.filter((function(t){var r=g(t,2),n=r[0];r[1];return n===e})).map((function(e){var t=g(e,2);t[0];return t[1]})),1)[0]||"").replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(function(e){return decodeURIComponent(e)}))}var Q=function(){return{instanceId:("1"===e.get("_ot_use_type")?e.get("_ot_instance_id")||"":w())||"",viewTip:e.get("_ot_view_tip")||"",refTip:e.get("_ot_ref_tip")||"",refB:e.get("_ot_ref_b")||"",sessionId:e.get("_ot_session_id")||"",lastSource:e.get("_ot_last_source")||"",utmType:e.get("_ot_utm_type")||"",utmChannel:e.get("_ot_utm_channel")||"",utmCampaign:e.get("_ot_utm_campaign")||"",utmSource:e.get("_ot_utm_source")||"",utmMedium:e.get("_ot_utm_medium")||"",utmTerm:e.get("_ot_utm_term")||"",utmContent:e.get("_ot_utm_content")||""}};function ee(){var t=U().isInsideApp,r=C(),n=-1!==window.location.hostname.indexOf("po.co"),i=function(e){return"high"!==c[e]?"0,1,2,3:":"0:"}(r);return!!(t||n?"0,1,2,3:":e.get("notice_gdpr_prefs")||i).match(/3/)}function te(){return(window.location.pathname||"/").replace(/^\/[a-z]+/,"").replace(/\/(index.html)?$/,"")||"/index"}function re(e,t,r,n){return f(this,void 0,void 0,(function(){var i,o,a,c,u,s,d,l,p,m,f;return v(this,(function(v){switch(v.label){case 0:switch(i={},o=K(n.ecommerce.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),a=K(t.itemListName,"")?"".concat(o,".").concat(K(t.itemListName,"")):void 0,c=K(t.itemListId,"")?"".concat(o,".").concat(K(t.itemListId,"")):"".concat(o,".").concat(r.tipC).concat(r.tipC1?"|".concat(r.tipC1):""),e){case"view_item_list":return[3,1];case"select_item":return[3,2];case"view_item":return[3,3];case"view_cart":return[3,6];case"add_to_cart":return[3,9];case"remove_from_cart":return[3,12];case"begin_checkout":return[3,15];case"add_shipping_info":return[3,18];case"add_payment_info":return[3,21];case"select_promotion":return[3,24];case"view_promotion":return[3,25]}return[3,26];case 1:case 2:return i={item_list_name:K(a,""),item_list_id:K(c,""),index:Number(t.index||0)},[3,27];case 3:return u={},[4,ce("_ot_item_list_name")];case 4:return u.item_list_name=v.sent(),[4,ce("_ot_item_list_id")];case 5:return u.item_list_id=v.sent(),u.index=Number(t.index||0),i=u,[3,27];case 6:return s={},[4,ce("_ot_item_list_name")];case 7:return s.item_list_name=v.sent(),[4,ce("_ot_item_list_id")];case 8:return s.item_list_id=v.sent(),s.index=Number(t.index||0),i=s,[3,27];case 9:return d={},[4,ce("_ot_item_list_name")];case 10:return d.item_list_name=v.sent(),[4,ce("_ot_item_list_id")];case 11:return d.item_list_id=v.sent(),d.index=Number(t.index||0),i=d,[3,27];case 12:return l={},[4,ce("_ot_item_list_name")];case 13:return l.item_list_name=v.sent(),[4,ce("_ot_item_list_id")];case 14:return l.item_list_id=v.sent(),l.index=Number(t.index||0),i=l,[3,27];case 15:return p={},[4,ce("_ot_item_list_name")];case 16:return p.item_list_name=v.sent(),[4,ce("_ot_item_list_id")];case 17:return p.item_list_id=v.sent(),p.index=Number(t.index||0),i=p,[3,27];case 18:return m={},[4,ce("_ot_item_list_name")];case 19:return m.item_list_name=v.sent(),[4,ce("_ot_item_list_id")];case 20:return m.item_list_id=v.sent(),m.index=Number(t.index||0),i=m,[3,27];case 21:return f={},[4,ce("_ot_item_list_name")];case 22:return f.item_list_name=v.sent(),[4,ce("_ot_item_list_id")];case 23:return f.item_list_id=v.sent(),f.index=Number(t.index||0),i=f,[3,27];case 24:case 25:return i={promotion_id:K(t.promotionId,""),promotion_name:K(t.promotionName,""),creative_name:K(t.creativeName,""),creative_slot:K(t.creativeSlot,""),index:Number(t.index||0)},[3,27];case 26:return[3,27];case 27:return[2,i]}}))}))}function ne(e,t){for(var r=e.charCodeAt(0),n=t.charCodeAt(0),i="",o=r;o<=n;o++)i+=String.fromCharCode(o);return i}function ie(){return function(e,t){for(var r="",n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}(ne("0","9")+ne("a","z"),32)}function oe(e){var t,r,n,i,o,a;try{for(var c=y(e),u=c.next();!u.done;u=c.next()){var s=u.value;if(s){var d=String(s).toLowerCase();d.startsWith("spu")?a=s:d.length>=3&&d.length<=6?o=s:d.startsWith("3")&&d.length<11?n=s:d.startsWith("4")&&d.length<26&&(i=s)}}}catch(l){t={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return{commodityId:n,itemId:i,productId:o,spuId:a}}function ae(t,r){var n=U(),i=n.isInsideApp,o=n.isGAOldApp,a=n.isGAOldIOS,c=n.isOtherApp,u=n.isPocoApp;if(!(i&&!o&&!a&&!c&&!u)||Number(e.get("APPVERSION"))<=40402||Number(e.get("IOSVERSION"))<=40504)e.set(t,r,D(C(),{expires:365}));else try{"1"===e.get("ISIOS")?window.webkit.messageHandlers.setStringPref.postMessage({key:t.split("_ot_")[1],value:r}):window.WE&&window.WE.trackEvent&&"function"==typeof window.WE.trackEvent&&window.WE.setStringPref(t.split("_ot_")[1],r)}catch(s){console.log("set module name-id error")}}function ce(t){var r=U(),n=r.isInsideApp,i=r.isGAOldApp,o=r.isGAOldIOS,a=r.isOtherApp,c=r.isPocoApp,u="";if(!(n&&!i&&!o&&!a&&!c)||Number(e.get("APPVERSION"))<=40402||Number(e.get("IOSVERSION"))<=40504)u=e.get(t)||void 0;else try{"1"===e.get("ISIOS")?(window.webkit.messageHandlers.getStringPref.postMessage(t.split("_ot_")[1]),setTimeout((function(){u=window.ITEM_LIST[t.split("_ot_")[1]]||void 0}),1e3)):window.WE&&window.WE.trackEvent&&"function"==typeof window.WE.trackEvent&&(u=window.WE.getStringPref(t.split("_ot_")[1])||void 0)}catch(s){console.log("get module name-id error")}return new Promise((function(t){try{Number(e.get("IOSVERSION"))>40504&&"1"===e.get("ISIOS")?setTimeout((function(){t(u)}),1e3):t(u)}catch(s){t(u)}}))}function ue(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}window.ITEM_LIST={},window.getStringPref=function(e){Object.assign(window.ITEM_LIST,e)};var se,de,le,pe,me=function(){return me=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},me.apply(this,arguments)},fe=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(c){i={error:c}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},ve=function(t){if(!ee())return window.__PAGE_VIEW_DATA__=t,"";var r=document.querySelector("body"),n=fe(t.tip instanceof Object?[0,t.tip.b]:String(t.tip||"").split("."),2)[1];if(n&&r&&r.setAttribute("data-ot-page",String(n||0)),t.pageType){var i=t.pageType;r&&r.setAttribute("data-ot-pageType",String(i||""))}return function(){var r,n=S(t.tip)||"",i={tip:n||"",commodity_id:J(t.commodityId,""),product_id:J(t.productId,""),goods_id:J(t.goodsId,""),tag:J(t.tag,""),version:J(t.version,""),exp_id:J(t.expId,"")};(t.viewTipDisabledB||t.viewTipEnabledE)&&function(e){if(X())try{sessionStorage.setItem("DISABLED_B",JSON.stringify(e.rangeB||[])),sessionStorage.setItem("ENABLED_E",JSON.stringify(e.rangeE||[]))}catch(t){console.debug(t)}}({rangeB:t.viewTipDisabledB||[],rangeE:t.viewTipEnabledE||[]});var o,a,c=H(i,t.extra);if(ee()&&function(t){var r=g(E().split("."),2)[1],n=g((t||"").split("."),2)[1],i=e.get("_ot_ref_b")||"",o=C();r!==n&&r===i||T(""),o&&e.set("_ot_ref_b",n||"",D(o))}(n),F("view",c),window.dataLayer&&t.isOpenGA){var u=C(),l=N(),p=b(u),m=s(u),f=Number(m["pc"===l?"pc":"m"]),v=me({event:"page_view",muserid:e.get("mUserId")||void 0,guserid:e.get("guserid")||void 0,instance_id:p||void 0,app_id:d(c.local).APP_ID||void 0,tip:n,ref_tip:E()||void 0,page:te(),page_version:Z()||void 0,tz:(o=(new Date).getTimezoneOffset(),a=Math.abs(o),"GMT".concat(o>0?"-":"+").concat("00".concat(Math.floor(a/60)).slice(-2),":").concat("00".concat(a%60).slice(-2))||void 0),site_country:u||void 0,last_source:x(u)||void 0,app_platform:l||void 0,ot_ua:(null===(r=null===window||void 0===window?void 0:window.navigator)||void 0===r?void 0:r.userAgent)||void 0,utm_channel:R(u,"utm_channel",W("utm_channel"))||void 0,utm_content:R(u,"utm_content",W("utm_content"))||void 0,utm_term:R(u,"utm_term",W("utm_term"))||void 0,utm_type:R(u,"utm_type",W("utm_type"))||void 0,page_type:K(t.pageType||void 0,""),page_referrer:P(u)||void 0,domain_id:"".concat(f)||void 0,category_id:K(t.categoryId,""),category_name:K(t.categoryName,""),parent_category_id:K(t.parentCategoryId,""),parent_category_name:K(t.parentCategoryName,""),moe_enable:K(t.moeEnable,!1),abtest_group:e.get("xm_user_bucket")||void 0,abtest_group1:e.get("xm_user_bucket1")||void 0,abtest_group2:e.get("xm_user_bucket2")||void 0,login_status:e.get("cUserId")||e.get("userId")||e.get("serviceToken")?"yes":"no"},I(n));B(Object.assign({},v,{event:"basic_config"})),setTimeout((function(){B(v)}),0)}return n}()},ge=function(){return ge=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ge.apply(this,arguments)},he=function(e,t){var r=S(e.tip,t)||"";if(!r&&"login"!==e.event||!ee())return"";var n=Object.assign({},e),i=C(),o=oe([n.commodityId,n.productId,n.itemId,n.spuId].filter((function(e){return!!e})));window.dataLayer&&B(ge({event:n.event,element_name:K(n.elementName,""),element_title:K(n.elementTitle,""),tip:r,link:K(j(n.linkUrl||n.link),""),ref_tip:E()||void 0,page_type:K(n.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),page_version:Z()||void 0,asset_link:K(j(n.assetLink),""),asset_id:K(n.assetId,""),live_id:K(n.liveId,""),alg:K(n.alg,""),alg_ver:K(n.algVer,""),alg_group:K(n.algGroup,""),activity_id:K(n.activityId||n.eventId,""),search_result:K(n.searchResult||n.result,""),search_word:K(n.searchWord,""),search_type:K(n.searchType,""),commodity_id:K(o.commodityId,"")?"".concat(K(o.commodityId,"")):void 0,coupon_list:K(n.couponList,""),coupon_status:K(n.couponStatus,""),product_id:K(o.productId,"")?"".concat(K(o.productId,"")):void 0,tag:K(n.tag,""),spu_id:K(o.spuId,"")?"".concat(K(o.spuId,"")):void 0,item_name:K(n.itemName,""),item_id:K(o.itemId,"")?"".concat(K(o.itemId,"")):void 0,version:K(n.version,""),exp_id:K(n.expId,""),commentNbrofTotal:Number(n.commentNbrofTotal||0),page_referrer:P(i)||void 0,category_id:K(n.categoryId,""),category_name:K(n.categoryName,""),parent_category_id:K(n.parentCategoryId,""),parent_category_name:K(n.parentCategoryName,""),product_total_count:K(n.productTotalCount),type:K(n.type,""),model:K(n.model,""),moe_enable:K(n.moeEnable,!1),notify_me_click_date:K(n.notifyMeClickDate,""),button_name:K(n.buttonName,""),guserid:K(n.guserid,""),card_type:K(n.cardType,""),order_delivery_date:K(n.orderDeliveryDate,""),order_address:K(n.orderAddress,""),order_city:K(n.orderCity,""),coupon_applied:K(n.couponApplied,""),style:K(n.style,""),grouping_name:K(n.groupingName,"")},I(r)));return r},ye=function(t){if(t.userId){var r="1"===e.get("isFromPassport");if(L(t.local,"isFromPassport",{path:"/"}),"function"==typeof window.onetrack){if(G())return;window.onetrack("login",t.userId,t.accountType,t.extraParams,!r)}r&&he({event:"login",tip:"",guserid:e.get("guserid")||void 0,pageType:"login"})}},_e=function(e){if("function"==typeof window.onetrack){if(G())return;window.onetrack("logout",e)}"function"==typeof window.gtag&&window.gtag("event","logout",e)},we=-1,be=function(e){addEventListener("pageshow",(function(t){t.persisted&&(we=t.timeStamp,e(t))}),!0)},Se=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Ie=function(){var e=Se();return e&&e.activationStart||0},Oe=function(e,t){var r=Se(),n="navigate";return we>=0?n="back-forward-cache":r&&(document.prerendering||Ie()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},Te=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}},Ee=function(e,t,r,n){var i,o;return function(a){t.value>=0&&(a||n)&&((o=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=o,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},Ce=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Ne=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Ae=function(e){var t=!1;return function(r){t||(e(r),t=!0)}},xe=-1,ke=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Pe=function(e){"hidden"===document.visibilityState&&xe>-1&&(xe="visibilitychange"===e.type?e.timeStamp:0,Le())},Re=function(){addEventListener("visibilitychange",Pe,!0),addEventListener("prerenderingchange",Pe,!0)},Le=function(){removeEventListener("visibilitychange",Pe,!0),removeEventListener("prerenderingchange",Pe,!0)},De=function(){return xe<0&&(xe=ke(),Re(),be((function(){setTimeout((function(){xe=ke(),Re()}),0)}))),{get firstHiddenTime(){return xe}}},Me=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},je=[1800,3e3],Ue=function(e,t){t=t||{},Me((function(){var r,n=De(),i=Oe("FCP"),o=Te("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-Ie(),0),i.entries.push(e),r(!0)))}))}));o&&(r=Ee(e,i,je,t.reportAllChanges),be((function(n){i=Oe("FCP"),r=Ee(e,i,je,t.reportAllChanges),Ce((function(){i.value=performance.now()-n.timeStamp,r(!0)}))})))}))},qe=[.1,.25],Ve={passive:!0,capture:!0},Be=new Date,Ge=function(e,t){se||(se=t,de=e,le=new Date,He(removeEventListener),Fe())},Fe=function(){if(de>=0&&de<le-Be){var e={entryType:"first-input",name:se.type,target:se.target,cancelable:se.cancelable,startTime:se.timeStamp,processingStart:se.timeStamp+de};pe.forEach((function(t){t(e)})),pe=[]}},We=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){Ge(e,t),i()},n=function(){i()},i=function(){removeEventListener("pointerup",r,Ve),removeEventListener("pointercancel",n,Ve)};addEventListener("pointerup",r,Ve),addEventListener("pointercancel",n,Ve)}(t,e):Ge(t,e)}},He=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,We,Ve)}))},Je=[100,300],Ke=[2500,4e3],ze={},$e=[800,1800],Ze=function e(t){document.prerendering?Me((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},Xe=function(e,t){t=t||{};var r=Oe("TTFB"),n=Ee(e,r,$e,t.reportAllChanges);Ze((function(){var i=Se();if(i){var o=i.responseStart;if(o<=0||o>performance.now())return;r.value=Math.max(o-Ie(),0),r.entries=[i],n(!0),be((function(){r=Oe("TTFB",0),(n=Ee(e,r,$e,t.reportAllChanges))(!0)}))}}))},Ye={NAVIGATION:"navigation",RESOURCE:"resource"},Qe="P",et="B",tt="H",rt="L",nt="C",it={CACHE:"c",NO_CACHE:"n",UNKNOWN:"o"},ot={"product-station":[{matchType:"include",file:"html",rule:"",entryType:"navigation",initiatorType:"navigation"},{matchType:"reg",file:"static.js",rule:new RegExp(/\/static\//),entryType:"resource",initiatorType:"script"},{matchType:"reg",file:"getgoodsinformation",rule:new RegExp(/getgoodsinformation/),entryType:"resource",initiatorType:"xmlhttprequest"},{matchType:"reg",file:"img",rule:new RegExp(/800x800/),entryType:"resource",initiatorType:"img"}]},at=["spps_files","dist","overseas"],ct=["unpkg.com","pubsub","cookie-clear","xmot","autotrack"],ut=[".mi.com/",".mi.co.id/"],st=["cookie-config"],dt={htmlTime:{duration:-1},jsTime:{startTimeEarliest:-1,startTimeLatest:-1,durationShortest:-1,durationLongest:-1,durationAverage:-1,downloadAverage:-1,cacheType:"o"},fxTime:{startTimeEarliest:-1,startTimeLatest:-1,durationShortest:-1,durationLongest:-1,durationAverage:-1,downloadAverage:-1}},lt="V",pt="T",mt="EX",ft="hd",vt="le",gt="ls",ht="ld",yt="j",_t="J",wt="jd",bt="JD",St="ja",It="jA",Ot="c",Tt="f",Et="F",Ct="fd",Nt="FD",At="fa",xt="fA",kt=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(c){i={error:c}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},Pt=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};function Rt(){return{htmlTime:(t=(null===(e=performance.getEntriesByType(Ye.NAVIGATION))||void 0===e?void 0:e[0])||{},{duration:Math.trunc(t.responseEnd-t.startTime||0)}),jsTime:Dt({initiatorType:["script"],whiteList:at,blackList:ct,isCollectCacheType:!0}),fxTime:Dt({initiatorType:["fetch","xmlhttprequest"],whiteList:ut,blackList:st})};var e,t}function Lt(){var e,t,r,n,i,o,a=Object.assign({},dt,window.performanceResultDetail),c=function(e){void 0===e&&(e=[]);var t=Array.from(e)[0]||{time:0,domTag:""},r=performance.getEntriesByName(t.domTag||"")[0]||{};return{name:String(t.domTag||"").split("/").slice(-1)[0],duration:Math.trunc(r.duration)||"-",startTime:Math.trunc(r.startTime)||"-"}}(null===(n=window.performanceResult)||void 0===n?void 0:n.fmpSlowComp),u=ue(null===window||void 0===window?void 0:window.performanceResult,"Object")&&ue(null===(i=null===window||void 0===window?void 0:window.performanceResult)||void 0===i?void 0:i.loadType,"String")?(null===(o=null===window||void 0===window?void 0:window.performanceResult)||void 0===o?void 0:o.loadType).slice(0,1):"";return{perf:JSON.stringify((e={},e[lt]="0411",e[pt]=u,e[mt]=jt(),e[ft]=a.htmlTime.duration,e[vt]=c.name,e[gt]=c.startTime,e[ht]=c.duration,e)),perf1:JSON.stringify((t={},t[yt]=a.jsTime.startTimeEarliest,t[_t]=a.jsTime.startTimeLatest,t[wt]=a.jsTime.durationShortest,t[bt]=a.jsTime.durationLongest,t[St]=a.jsTime.durationAverage,t[It]=a.jsTime.downloadAverage,t[Ot]=a.jsTime.cacheType,t)),perf2:JSON.stringify((r={},r[Tt]=a.fxTime.startTimeEarliest,r[Et]=a.fxTime.startTimeLatest,r[Ct]=a.fxTime.durationShortest,r[Nt]=a.fxTime.durationLongest,r[At]=a.fxTime.durationAverage,r[xt]=a.fxTime.downloadAverage,r))}}function Dt(e){var t=e.initiatorType,r=e.whiteList,n=e.blackList,i=e.isCollectCacheType,o=void 0!==i&&i,a=[],c=[],u=0,s=[],d=0,l=performance.getEntriesByType(Ye.RESOURCE).filter((function(e){return t.includes(e.initiatorType)&&(!(null==r?void 0:r.length)||r.some((function(t){return e.name.includes(t)})))&&(!(null==n?void 0:n.length)||!n.some((function(t){return e.name.includes(t)})))}));return l.forEach((function(e){a.push(e.startTime),c.push(e.duration),u+=e.duration,s.push(e.responseEnd-e.responseStart),d+=e.responseEnd-e.responseStart})),Object.assign({},l.length?{startTimeEarliest:Math.trunc(Math.min.apply(Math,Pt([],kt(a),!1))),startTimeLatest:Math.trunc(Math.max.apply(Math,Pt([],kt(a),!1))),durationShortest:Math.trunc(Math.min.apply(Math,Pt([],kt(c),!1))),durationLongest:Math.trunc(Math.max.apply(Math,Pt([],kt(c),!1))),durationAverage:Math.trunc(u/l.length),downloadAverage:Math.trunc(d/l.length)}:{startTimeEarliest:-1,startTimeLatest:-1,durationShortest:-1,durationLongest:-1,durationAverage:-1,downloadAverage:-1},o?{cacheType:Mt(l)}:{})}function Mt(e){var t,r,n=new Map;return e.forEach((function(e){var t,r="transferSize"in(t=e)?0===t.transferSize?it.CACHE:it.NO_CACHE:it.UNKNOWN;n.set(r,(n.get(r)||0)+1)})),(null===(r=null===(t=Array.from(n).sort((function(e,t){return t[1]-e[1]})))||void 0===t?void 0:t[0])||void 0===r?void 0:r[0])||it.UNKNOWN}function jt(){var e,t=[];for(var r in Ye){var n=Ye[r]||"",i=(null===(e=window.PerformanceObserver)||void 0===e?void 0:e.supportedEntryTypes)||[];i.length&&i.includes(n)||t.push(n[0])}return t.join(",")}var Ut=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(se){o(se)}}function c(e){try{u(n.throw(e))}catch(se){o(se)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}u((n=n.apply(e,t||[])).next())}))},qt=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(se){c=[6,se],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Vt=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bt=function(){var t=this;this.platform=N(),this._format=function(e,t){return void 0===t&&(t=0),e?e.toFixed(t).valueOf():void 0},this._getWebVitals=function(){return Ut(t,void 0,void 0,(function(){var e,t=this;return qt(this,(function(r){return e=function(e){var r,n;if("TTFB"===e.name&&(null===(r=e.entries)||void 0===r?void 0:r.length)>0){var i=(null===(n=e.entries[0])||void 0===n?void 0:n.requestStart)||0;t.metrics[e.name]=e.value-i}else t.metrics[e.name]=e.value},function(e,t){t=t||{},Me((function(){var r,n=De(),i=Oe("LCP"),o=function(e){var t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(i.value=Math.max(t.startTime-Ie(),0),i.entries=[t],r())},a=Te("largest-contentful-paint",o);if(a){r=Ee(e,i,Ke,t.reportAllChanges);var c=Ae((function(){ze[i.id]||(o(a.takeRecords()),a.disconnect(),ze[i.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,c,!0)})),Ne(c),be((function(n){i=Oe("LCP"),r=Ee(e,i,Ke,t.reportAllChanges),Ce((function(){i.value=performance.now()-n.timeStamp,ze[i.id]=!0,r(!0)}))}))}}))}(e,{reportAllChanges:!0}),function(e,t){t=t||{},Ue(Ae((function(){var r,n=Oe("CLS",0),i=0,o=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=o[0],r=o[o.length-1];i&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}})),i>n.value&&(n.value=i,n.entries=o,r())},c=Te("layout-shift",a);c&&(r=Ee(e,n,qe,t.reportAllChanges),Ne((function(){a(c.takeRecords()),r(!0)})),be((function(){i=0,n=Oe("CLS",0),r=Ee(e,n,qe,t.reportAllChanges),Ce((function(){return r()}))})),setTimeout(r,0))})))}(e,{reportAllChanges:!0}),function(e,t){t=t||{},Me((function(){var r,n=De(),i=Oe("FID"),o=function(e){e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),r(!0))},a=function(e){e.forEach(o)},c=Te("first-input",a);r=Ee(e,i,Je,t.reportAllChanges),c&&Ne(Ae((function(){a(c.takeRecords()),c.disconnect()}))),c&&be((function(){var n;i=Oe("FID"),r=Ee(e,i,Je,t.reportAllChanges),pe=[],de=-1,se=null,He(addEventListener),n=o,pe.push(n),Fe()}))}))}(e,{reportAllChanges:!0}),Ue(e,{reportAllChanges:!0}),Xe(e),[2]}))}))},this._getIRL=function(){var e,r;try{for(var n=Vt(performance.getEntriesByType("resource")),i=n.next();!i.done;i=n.next()){var o=i.value;"img"===o.initiatorType&&(t.metrics.IRL=o.duration+(t.metrics.IRL||0))}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},this._getUSP=function(){var e,r="User stays on the page";return performance.measure(r),t.metrics.USP=(null===(e=performance.getEntriesByName(r)[0])||void 0===e?void 0:e.duration)||0,t.metrics.USP},this._customProductStation=function(){var e=A();e&&(ot[e]||[]).forEach((function(e){var r,n;try{for(var i=Vt(performance.getEntries()),o=i.next();!o.done;o=i.next()){var a=o.value;a.entryType===e.entryType&&a.initiatorType===e.initiatorType&&("include"===e.matchType||"reg"===e.matchType&&e.rule.test(a.name))&&t.customArray.push({name:a.name,startTime:t._format(a.startTime),duration:t._format(a.duration),responseEnd:t._format(a.responseEnd)})}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}))},this.collectStart=function(){t._getWebVitals(),t._getIRL()},this.collectEnd=function(){"product-station"===A()&&"m"===t.platform&&t._customProductStation(),t._getUSP()},this.reportPerf=function(){var r;t.collectEnd();var n=C(),i=A(),o=Lt(),a={event:"performance",perf:o.perf,perf1:o.perf1,perf2:o.perf2,alg:"",alg_group:"",alg_ver:"",search_result:"",search_word:"",search_type:"",page_version:"",muserid:e.get("mUserId")||void 0,guserid:e.get("guserid")||void 0,instance_id:b(n)||void 0,page:te(),site_country:n||void 0,app_platform:N()||void 0,ot_ua:(null===(r=null===window||void 0===window?void 0:window.navigator)||void 0===r?void 0:r.userAgent)||void 0,page_referrer:P(n)||void 0,page_type:i},c="";if("product-station"===i&&"m"===t.platform){var u={};t.customArray.forEach((function(e,t){u["p".concat(t+1,"_ST")]=e.startTime,u["p".concat(t+1,"_DR")]=e.duration,u["p".concat(t+1,"_RE")]=e.responseEnd})),c=JSON.stringify(u),a.alg=c.substring(0,100),a.alg_group=c.substring(100,200),a.alg_ver=c.substring(200,300),a.search_result=c.substring(300,400),a.search_word=c.substring(400,500),a.search_type=c.substring(500,600),a.page_version=c.substring(600,700)}return B(a),a},this.metrics={},this.customArray=[],this.customPerf={}},Gt=function(){var e=new Bt;return e.collectStart(),e.reportPerf},Ft=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(c){i={error:c}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},Wt=window.innerWidth,Ht=window.innerHeight,Jt=function(r,n){var i,o=U(),a=o.isOldAPP,c=o.isOldIOS,u=o.isOtherApp,l=o.isMihomeApp,p=o.isMicommunityApp,m=u?l?"mihome":p?"micommunity":"others":"1"===e.get("ISAPP")?"android":"1"===e.get("ISIOS")?"ios":r.platform||(Wt<=720?"m":"pc"),f=document.querySelector("html"),v=Ft(r.tip instanceof Object?[r.tip.a]:String(r.tip||"").split("."),1)[0];if(f&&f.setAttribute("data-ot-project",String(v||d(r.local).PRO_ID||0)),f&&f.setAttribute("data-ot-local",r.local),f&&f.setAttribute("data-ot-platform",m),ee()){if(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"dle_consent_update"}),!("object"==typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype))(O=document.createElement("script")).src="//i01.appmifile.com/webfile/globalweb/stat/js/IntersectionObserver.min.js",document.head.appendChild(O);var g,h,y,_,b=document.querySelector("#xmot");if(!(G()||b&&window.onetrack)){window.onetrack=window.onetrack||function(){(window.onetrack.q=window.onetrack.q||[]).push(arguments)};var S=$()?"cn":r.region||r.local||"cn",I=u||a||c?e.get("DEVICEID")||"undefined":(g=r.local,h="1"===e.get("_ot_use_type"),y=w(),_=!h&&!!y,e.set("_ot_use_type",_?"0":"1",D(g,{expires:730})),e.get("_ot_instance_id")||e.set("_ot_instance_id",ie(),D(g,{expires:new Date(Date.now()+34128e6)})),_?y:{type:"cookie",name:"_ot_instance_id",options:D(g,{expires:new Date(Date.now()+34128e6)})});window.onetrack("init",r.appId||d(r.local).APP_ID,"default",S,I||void 0);var O;(O=document.createElement("script")).src="//ssl-cdn.static.browser.mi-img.com/mistat-data/onetrack/onetrack.js",O.async=!0,O.id="xmot",document.head.appendChild(O)}if(!window.pubsub){window.pubsub=window.pubsub||function(){(window.pubsub.q=window.pubsub.q||[]).push(arguments)},window.pubsub("init",r.local.toUpperCase(),"4c17b4d1cfa2fb108700a15027ff54139f56ed9a","mi-store-pubsub","xiaomi-mistore-pubsub");var T=document.createElement("script");T.type="text/javascript",T.src="//i02.appmifile.com/i18n/pubsub/i18n-pubsub.js",T.setAttribute("async","async"),document.body.appendChild(T)}window.gtag||(window.gtag=window.gtag||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(window.dataLayer=window.dataLayer||[]).push(e)}),"cn"===r.region&&f&&f.setAttribute("data-ot-test","true"),G()?function(e){k(e),L(e,"_ot_update_flag"),M(e);var t=["utm_type","utm_channel","utm_campaign","utm_source","utm_medium","utm_term","utm_content"];t.map(W).some((function(e){return!!e}))&&L(e,t.map((function(e){return"_ot_".concat(e)})))}(r.local):function(e,t,r){var n=s(t),i=Number(n["pc"===r?"pc":"m"]);k(t),L(t,"_ot_update_flag"),M(t),e.onetrack("set","ref_tip",(function(){return E()})),e.onetrack("set","site_country",t),e.onetrack("set","domain_id",i),e.onetrack("set","app_platform",r),e.onetrack("set","page",(function(){return te()})),e.onetrack("set","page_version",Z()),e.onetrack("set","lastsource",(function(){return x(t)})),e.onetrack("set","session_id",(function(){return M(t)}));var o=["utm_type","utm_channel","utm_campaign","utm_source","utm_medium","utm_term","utm_content"],a=o.map(W);a.some((function(e){return!!e}))&&L(t,o.map((function(e){return"_ot_".concat(e)})));o.forEach((function(r,n){e.onetrack("set",r,(function(){return R(t,r,a[n])}))}))}(window,r.local,m),n&&n instanceof Function&&n(window,r.local);var C=e.get("mUserId")||"";if(C)ye({local:r.local,userId:C});else if(function(){var e="temp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}()){(localStorage.getItem("_onetrack_uid")||"")&&_e()}if(r.tip){var N=Object.assign(r,{tip:r.tip});ve(N)}var A=new t.R({system:"海外小米网",group:"BJ-MICOM",env:$()?"test":"pro",withoutFMP:!1,container:"#root",excludeNodes:["span#teconsent.text-with-inline-end-border",".product__article",".buy-container",".lazy",".pin-spacer","div.product-result-item_figure"],maxWait:8e3,domWait:2e3,manualTrack:!0,fmpOptions:{eleWeight:{SVG:2,IMG:7,CANVAS:4,OBJECT:4,EMBED:4,VIDEO:4},fmpFilter:function(e){return 1===e.length?e:e.filter((function(e){var t=e.$node.getBoundingClientRect(),r=t.width,n=t.height;return r>30&&n>12}))},screenHeight:2*(Ht||800)}},(function(e,t){window.performanceResult=e,window.statusCollector=t}));window.isInitTrack||(A.initTrack(),window.isInitTrack=1,console.log("initTrack had run"));var P=null,j=!1,q="";window.addEventListener("load",(function(){j=!0,q=rt,window.performanceResultDetail=Rt(),P=Gt(),"1"===e.get("ISAPP")&&P(q)})),(null===(i=window.document)||void 0===i?void 0:i.addEventListener)&&window.document.addEventListener("readystatechange",(function(){var e;"complete"===(null===(e=window.document)||void 0===e?void 0:e.readyState)&&(j=!0,q=nt,window.performanceResultDetail=Rt())}));var V,B,F,H=!1;V=function(){if(window.currentPath!==window.location.pathname){window.currentPath=window.location.pathname;var e=j?q:Qe;P&&"function"==typeof P?P(e):(P=Gt())(e)}},B=window.history,F=function(e){var t=B[e];return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=new Event(e.toLowerCase());return t.apply(B,r),window.dispatchEvent(i),t}},window.history.pushState=F("pushState"),window.history.replaceState=F("replaceState"),window.addEventListener("pushstate",V,!1),window.addEventListener("replacestate",V,!1),window.addEventListener("popstate",V,!1),window.onbeforeunload=function(){H=!0,window.performanceResultDetail=Rt();var e=j?q:et;P&&"function"==typeof P?P(e):(P=Gt())(e)},window.onpagehide=function(){if(!H){var e=j?q:tt;P&&"function"==typeof P?P(e):(P=Gt())(e)}},window.currentPath=window.location.pathname}};var Kt=function(t,r){var n,i,o,a,c,u,s,d=S(t.tip,r)||"";if(F("click",H({tip:d,module_pos:J(t.modulePos),module_title:J(t.moduleTitle,""),element_name:J(t.elementName,""),element_title:J(t.elementTitle,""),link:J(j(t.linkUrl||t.link),""),asset_link:J(j(t.assetLink),""),commodity_id:J(t.commodityId,""),product_id:J(t.productId,""),goods_id:J(t.goodsId,""),tag:J(t.tag,""),version:J(t.version,""),exp_id:J(t.expId,""),sub_module_pos:J(t.subModulePos),sub_module_name:J(t.subModuleName,""),sub_module_title:J(t.subModuleTitle,""),button_name:J(t.buttonName,""),notify_me_click_date:J(t.notifyMeClickDate,""),moe_enable:J(t.moeEnable,!1)},t.extra)),window.dataLayer&&t.isOpenGA){var l=Object.assign({},t,t.extra,{event:"click"});he(l,r)}return d&&(t.linkUrl||t.link)&&!t.isNotJump&&(T(d),n=d,i=C(),o=g((n||"").split("."),5),a=o[1],c=o[4],u=X()?JSON.parse(sessionStorage.getItem("DISABLED_B")||"[]").map((function(e){return Number(e||0)})):[],s=X()?JSON.parse(sessionStorage.getItem("ENABLED_E")||"[]").map((function(e){return Number(e||0)})):[],(!~u.indexOf(Number(a||0))||~s.indexOf(Number(c||0)))&&i&&e.set("_ot_view_tip",n||"",D(i))),d},zt=function(e,t,r){void 0===r&&(r={});var n=r.beforeReport,i=r.afterReport;Array.from(document.querySelectorAll(e.targetSelector||"[data-ot-click]")).forEach((function(r){var o=r&&r.getAttribute("data-ot-tip")||"",a=r&&r.getAttribute(e.targetDataAttr||"data-ot-click")||"{}",c={};try{c=JSON.parse(a)}catch(se){$()&&console.warn("JSON string [".concat(a,"] is invalid!"))}var u="function"==typeof t?t(c,r):c,s=!0;if("function"==typeof n&&(s=n(u,r)),s){var d=Object.assign(u,o?{tip:o}:{});r.addEventListener("click",(function(e){Kt(d,e.currentTarget||void 0),"function"==typeof i&&i(u,r)}))}}))},$t=function(){return $t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$t.apply(this,arguments)},Zt=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(se){o(se)}}function c(e){try{u(n.throw(e))}catch(se){o(se)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}u((n=n.apply(e,t||[])).next())}))},Xt=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(se){c=[6,se],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Yt=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Qt=function(e){var t,r;return Zt(this,void 0,void 0,(function(){var n,i,o,a,c,u,s,d,l,f,v,g,h,y,_,w,b,O,T,N,A,x;return Xt(this,(function(k){switch(k.label){case 0:if(!(n=S(e.tip||(null===(t=e.ecommerce)||void 0===t?void 0:t.tip))||"")||!ee())return[2,""];if(i={},i=e.ecommerce?e:{event:e.event,ecommerce:$t({items:[$t({},e)]},e)},o=Object.assign({},i),a=[o.ecommerce.commodityId||o.ecommerce.commodity_id,o.ecommerce.productId||o.ecommerce.product_id,o.ecommerce.items[0].itemId||o.ecommerce.items[0].item_id,o.ecommerce.spuId||o.ecommerce.spu_id].filter((function(e){return!!e})),c=oe(a),!window.dataLayer)return[3,11];if(u=C(),s=I(n),d=[],!o.ecommerce||!o.ecommerce.items)return[3,8];k.label=1;case 1:k.trys.push([1,6,7,8]),l=Yt(o.ecommerce.items),f=l.next(),k.label=2;case 2:return f.done?[3,5]:(v=f.value,g=v.itemName?v.itemName.toLowerCase().includes("poco")?"poco":v.itemName.toLowerCase().includes("redmi")?"redmi":"mi":"mi","select_item"===o.event&&(h=K(o.ecommerce.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),y=K(v.itemListName,"")?"".concat(h,".").concat(K(v.itemListName,"")):void 0,_=K(v.itemListId,"")?"".concat(h,".").concat(K(v.itemListId,"")):"".concat(h,".").concat(s.tipC).concat(s.tipC1?"|".concat(s.tipC1):""),ae("_ot_item_list_name",K(y,"")),ae("_ot_item_list_id",K(_,""))),[4,re(o.event,v,s,o)]);case 3:w=k.sent(),T=$t({price:m(u)?Number(v.price||0):0,item_brand:K(v.itemBrand||v.item_brand||g,""),item_category:K(v.itemCategory||v.item_ategory,""),item_variant:K(v.itemVariant||v.item_variant,""),quantity:Number(v.quantity||0),item_category2:K(v.itemCategory2,""),item_id:K(c.itemId,"")?"".concat(K(c.itemId,"")):"undefined",item_name:(null===(r=K(v.itemName||v.item_name,""))||void 0===r?void 0:r.replace(/<.*?>/g," ").replace(/ +/g," "))||"undefined",promotion_id:K(v.promotionId||v.promotion_id,""),promotion_name:K(v.promotionName||v.promotion_name,""),creative_name:K(v.creativeName||v.creative_name,""),creative_slot:K(v.creativeSlot||v.creative_slot,"")},w),d.push(T),k.label=4;case 4:return f=l.next(),[3,2];case 5:return[3,8];case 6:return b=k.sent(),A={error:b},[3,8];case 7:try{f&&!f.done&&(x=l.return)&&x.call(l)}finally{if(A)throw A.error}return[7];case 8:return o.ecommerce.items&&0!==o.ecommerce.items.length?[3,10]:[4,re(o.event,{},s,o)];case 9:O=k.sent(),T=$t({price:0,item_brand:void 0,item_category:void 0,item_variant:void 0,quantity:0,item_category2:void 0,item_id:"undefined",item_name:"undefined",promotion_id:void 0,promotion_name:void 0,creative_name:void 0,creative_slot:void 0},O),d.push(T),k.label=10;case 10:N=o.ecommerce||{},B({event:o.event,ecommerce:$t({currency:p(u).currencyCode,alg:K(N.alg,""),alg_ver:K(N.algVer,""),alg_group:K(N.algGroup,""),transation_id:K(N.transationId,""),status:K(N.status,""),payment_type:K(N.paymentType,""),tag:K(N.tag,""),stock:K(N.stock,""),shipping_tier:K(N.shippingTier,""),search_result:K(N.searchResult||N.result,""),search_word:K(N.searchWord,""),search_type:K(N.searchType,""),shipping:m(u)?Number(N.shipping||0):0,tax:m(u)?Number(N.tax||0):0,link:K(j(N.linkUrl||N.link),""),tr_promo_code:K(N.trPromoCode,""),tr_promo_price:m(u)?Number(N.trPromoPrice||0):0,value:m(u)?Number(N.value||0):0,page_referrer:P(u)||void 0,page_version:Z()||void 0,version:K(N.version,""),spu_id:K(c.spuId,"")?"".concat(K(c.spuId,"")):void 0,product_id:K(c.productId,"")?"".concat(K(c.productId,"")):void 0,commodity_id:K(c.commodityId,"")?"".concat(K(c.commodityId,"")):void 0,tip:n,ref_tip:E()||void 0,element_name:K(N.elementName,""),element_title:K(N.elementTitle,""),promo_code:K(N.promoCode||N.promo_code,""),promo_price:m(u)?Number(N.promoPrice||0):0,page_type:K(N.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),button_name:K(N.buttonName,""),style:K(N.style,""),grouping_name:K(N.groupingName,""),image_url:K(N.imageUrl,""),category_name:K(N.categoryName,""),category_id:K(N.categoryId,""),parent_category_id:K(N.parentCategoryId,""),parent_category_name:K(N.parentCategoryName,""),source:K(N.source,""),revenue:K(N.revenue,"")?"".concat(K(N.revenue,"")):void 0,the_final_amount_user_pays:K(N.ThefinalAmountUserPays,""),discount_vaue:K(N.discountVaue,"")?"".concat(K(N.discountVaue,"")):void 0,order_pin_code:K(N.orderPinCode,"")?"".concat(K(N.orderPinCode,"")):void 0,number_of_search_resuts:m(u)?Number(N.numberOfSearchResuts||0):0,purchase_amount:K(N.purchaseAmount,""),items:d},s),moe_enable:K(N.moeEnable,"")},!0),k.label=11;case 11:return[2,n]}}))}))},er=function(){return er=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},er.apply(this,arguments)},tr=function(e,t){var r=S(e.tip,t)||"";if(F("expose",H({tip:r,module_pos:J(e.modulePos),module_title:J(e.moduleTitle,""),element_name:J(e.elementName,""),element_title:J(e.elementTitle,""),link:J(j(e.linkUrl||e.link),""),asset_link:J(j(e.assetLink),""),commodity_id:J(e.commodityId,""),product_id:J(e.productId,""),goods_id:J(e.goodsId,""),tag:J(e.tag,""),version:J(e.version,""),exp_id:J(e.expId,""),sub_module_pos:J(e.subModulePos),sub_module_name:J(e.subModuleName,""),sub_module_title:J(e.subModuleTitle,""),button_name:J(e.buttonName,"")},e.extra)),window.dataLayer&&e.isOpenGA){var n=Object.assign({},e,e.extra,{event:"expose"});he(n,t)}return r},rr=function(e,t,r){void 0===r&&(r={});var n=r.beforeReport,i=r.afterReport,o=Array.from((e.targetNodeWrapper||document).querySelectorAll(e.targetNodeSelector||"[data-ot-expose]"));if("function"==typeof IntersectionObserver){var a={root:e.targetRootSelector&&document.querySelector(e.targetRootSelector)||null,rootMargin:e.targetRootMargin||"0px",threshold:void 0===e.exposeThreshold?.3:e.exposeThreshold},c=new IntersectionObserver((function(r){r.forEach((function(r){if(!(r.intersectionRatio<=0)&&r.isIntersecting){var o=r.target||{},a=o&&o.getAttribute("data-ot-tip")||"",u=o&&o.getAttribute(e.targetNodeDataAttr||"data-ot-expose")||"{}",s={};try{s=JSON.parse(u)}catch(se){$()&&console.warn("JSON string [".concat(u,"] is invalid!"))}var d="function"==typeof t?t(s,o):s,l=!0;if("function"==typeof n&&(l=n(d,o)),l){if(tr(Object.assign({},d,a?{tip:a}:{},{isOpenGA:!1}),o),window.dataLayer){var p=Object.assign(d,a?{tip:a}:{});if(d.isOpenGA)if("ecommerce"===p.eventType){var m={event:p.event,ecommerce:p.ecommerce};p.ecommerce||(m={event:p.event,ecommerce:er({items:[er({},p)]},p)}),Qt(m,o)}else p.event=p.event||"expose",he(p,o)}"function"==typeof i&&i(d,o),!e.isInfinite&&c.unobserve(o)}}}))}),a);return o.forEach((function(e){c.observe(e)})),c}console.warn("Loading polyfill for IntersectionObserver")},nr=function(e){var t=S(e.tip)||"";return F("slide",H({tip:t,link:J(j(e.linkUrl||e.link),""),asset_link:J(j(e.assetLink),""),asset_id:J(e.assetId,""),commodity_id:J(e.commodityId,""),product_id:J(e.productId,""),goods_id:J(e.goodsId,""),tag:J(e.tag,""),alg:J(e.alg,""),alg_ver:J(e.algVer,""),alg_group:J(e.algGroup,"")},e.extra)),t},ir=function(e){var t=S(e.tip)||"";return F("add_cart",H({tip:t,commodity_id:J(e.commodityId,""),product_id:J(e.productId,""),goods_id:J(e.goodsId,""),tag:J(e.tag,""),goods_count:J(e.goodsCount,1),goods_amount:J(e.goodsAmount,0),parent_goods_id:J(e.parentGoodsId,0),bundle_id:J(e.bundleId,0)},e.extra)),t},or=function(){var e=document.querySelector("body");e&&e.removeAttribute("data-ot-page")},ar=function(e,t){var r=S(t.tip)||"",n={tip:r};Object.keys(t).forEach((function(e){n[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=J(t[e])})),n.tip=r,F(e,n)},cr=function(t){if(ee()&&window.pubsub){var r=C(),n=N(),i=b(r),o=window.navigator.userAgent,a=o.match(/Android.*; ?(.*(?= Build))/),c=o.match(/iPhone OS .*?(?= )/),u=a&&a[1],s=c&&c[0],d={fr:"EU",es:"EU",it:"EU",uk:"EU",nl:"EU",pl:"EU",de:"EU",in:"IN",ru:"RU",default:"SG"},l={B:{instance_id:"1"===e.get("ISIOS")?e.get("DEVICEID")||void 0:"1"===e.get("ISAPP")?e.get("RECOMMENDID")||e.get("DEVICEID")||void 0:i,item_id:t.itemId,Device:void 0,"Device model":o.includes("Android")?u:o.includes("iPhone")?s:void 0,app_platform:n||void 0,event_name:t.eventName,page_type:t.pageType},attributes:{region:C().toUpperCase(),area:d[C()]||d.default}};!function(t){var r=U(),n=r.isUseMiCommand,i=r.isOtherApp,o=r.isPocoApp,a="xiaomi://MiEventTrackCommand?action=logPubSub&params="+encodeURIComponent(t);!i&&n&&!o&&"1"===e.get("ISIOS")&&Number(e.get("IOSVERSION"))>=40802?window.location.assign(a):!i&&!o&&"1"===e.get("ISAPP")&&Number(e.get("APPVERSION"))>=40800?prompt(a):null===window||void 0===window||window.pubsub("pub",t)}(JSON.stringify(l))}};const ur=function(){var e=window.xmot&&window.xmot.q;window.xmot=sr,e instanceof Array&&!!e.length&&e.forEach((function(e){try{sr.apply(void 0,e)}catch(t){}}));return sr}();function sr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n={init:Jt,view:ve,click:Kt,clickWith:zt,expose:tr,exposeWith:rr,slide:nr,addCart:ir,login:ye,logout:_e,exit:or,performance:Gt,default:ar,custom:he,ecommerce:Qt,getSettings:Q,pubSubPush:cr};return(n[e]||n.default).apply(void 0,t)}})(),n=n.default})()));